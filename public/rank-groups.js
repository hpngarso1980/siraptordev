(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{20:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a={name:"CancelButton",props:{text:{type:String,default:"Batal"}}},r=n(1),o=Object(r.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CButton",{staticClass:"px-3",attrs:{color:"light"},on:{click:function(t){return e.$emit("click")}}},[n("CIcon",{staticClass:"mr-1",attrs:{name:"cil-x-circle"}}),e._v("\n  "+e._s(e.text)+"\n")],1)}),[],!1,null,null,null).exports},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(9),r={props:{accessLevel:{type:String,default:a.a.manage}},computed:{canManage:function(){return this.accessLevel===a.a.manage},canSupervise:function(){return this.accessLevel===a.a.supervise},canReport:function(){return this.accessLevel===a.a.report},canView:function(){return this.accessLevel===a.a.view}}}},229:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(8),o=n(22),i=n(20),s=n(11),l=n(12),u=n(15),c=n(21),d={name:"RankGroupForm",components:{CancelButton:i.a,SaveButton:s.a,ValidatedInput:l.a},mixins:[u.a,c.a],methods:{beforeReset:function(){this.$refs.formObserver.reset()},beforeSave:function(){return this.$refs.formObserver.validate()}},formTitle:"Level ranking",initialFormData:{title:"",order:1,color:"#ffffff"}},f=n(1),p=Object(f.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ValidationObserver",{ref:"formObserver",attrs:{slim:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.valid;return[n("CModal",{attrs:{title:e.title,show:e.show,"close-on-backdrop":!1,size:"sm",centered:""},on:{"update:show":e.updateShow},scopedSlots:e._u([{key:"footer-wrapper",fn:function(){return[n("div",{staticClass:"p-3"},[n("SaveButton",{staticClass:"float-right",attrs:{disabled:!a},on:{click:e.save}}),e._v(" "),n("CancelButton",{staticClass:"float-right mr-2",on:{click:function(t){return e.updateShow(!1)}}})],1)]},proxy:!0}],null,!0)},[n("CForm",[n("ValidatedInput",{attrs:{disabled:!e.canManage,type:"number",min:"1",label:"Peringkat",rules:"required"},model:{value:e.formData.order,callback:function(t){e.$set(e.formData,"order",t)},expression:"formData.order"}}),e._v(" "),n("ValidatedInput",{attrs:{disabled:!e.canManage,type:"text",label:"Nama",rules:"required|max:100"},model:{value:e.formData.title,callback:function(t){e.$set(e.formData,"title",t)},expression:"formData.title"}}),e._v(" "),n("ValidatedInput",{attrs:{disabled:!e.canManage,type:"color",label:"Warna",rules:"required"},model:{value:e.formData.color,callback:function(t){e.$set(e.formData,"color",t)},expression:"formData.color"}})],1)],1)]}}])})}),[],!1,null,null,null).exports,m=n(23),v=n(17),b=n(14),h=n(7),k=n(29),g={name:"RankGroupTable",components:{DeleteButton:m.a,EditButton:v.a,ContentPanel:h.a,TableNoItem:b.a},mixins:[k.a],props:{rankGroups:{type:Array,default:function(){return[]}}},fields:[{label:"Peringkat",key:"order"},{label:"Judul",key:"title"},{label:"Warna",key:"color"},{label:"Tgl. Dibuat",key:"created_at"},{label:"Update Terakhir",key:"updated_at"},{label:"",key:"actions"}]},y=Object(f.a)(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentPanel",{attrs:{"table-content":""}},[n("CDataTable",{staticClass:"mb-4",attrs:{items:e.rankGroups,fields:e.fields,hover:""},scopedSlots:e._u([{key:"order",fn:function(t){var a=t.item;return[n("td",{attrs:{width:"100"}},[e._v("\n        "+e._s(a.order)+"\n      ")])]}},{key:"color",fn:function(e){var t=e.item;return[n("td",[n("div",{style:"width: 100px; height: 30px; background: "+t.color})])]}},{key:"created_at",fn:function(t){var a=t.item;return[n("td",[e._v("\n        "+e._s(e._f("toHumanDate")(a.created_at))+"\n      ")])]}},{key:"updated_at",fn:function(t){var a=t.item;return[n("td",[e._v("\n        "+e._s(e._f("toHumanDate")(a.updated_at))+"\n      ")])]}},{key:"actions",fn:function(t){var a=t.item;return[n("td",[e.editButtonShown?n("EditButton",{on:{click:function(t){return e.edit(a)}}}):e._e(),e._v(" "),e.deleteButtonShown?n("DeleteButton",{on:{click:function(t){return e.remove(a)}}}):e._e()],1)]}}])},[n("TableNoItem",{attrs:{slot:"no-items-view"},slot:"no-items-view"})],1)],1)}),[],!1,null,null,null).exports,w=n(18),_=n(3),O=n(0),C=n(6),D=n(9);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P={name:"RankGroups",components:{CreateButton:o.a,PageTitle:r.a,RankGroupForm:p,RankGroupTable:y},mixins:[w.a],computed:x({},Object(a.e)(_.a,["rankGroups"]),{canCreate:function(){return this.$root.hasPermissionTo(C.a.MANAGE_USER)},canEdit:function(){return this.$root.hasAnyPermissionTo([C.a.MANAGE_USER])},formAccessLevel:function(){return(0,this.$root.hasPermissionTo)(C.a.MANAGE_USER)?D.a.manage:""}}),methods:x({},Object(a.b)(_.a,{getPaginatedData:function(e){return e(O.M)},handleCreate:O.h,handleUpdate:O.nb,handleRemove:function(e,t){return e(O.r,t.id)}}),{prepareData:function(){this.getPaginatedData()},setDeleteConfirmationPayload:function(e){return{title:"level ranking",data:e}},formatCreateSuccessMessage:function(){return"Level ranking berhasil ditambahkan"},formatUpdateSuccessMessage:function(){return"Level ranking berhasil diperbarui"},formatRemovalSuccessMessage:function(){return"Level ranking berhasil dihapus"},formatRemovalFailedMessage:function(e,t){return t.response.data.errors.join(" ")}})},j=Object(f.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CRow",[n("CCol",{attrs:{lg:"10",sm:"12"}},[n("PageTitle",{attrs:{title:"Master Data Level Ranking"},scopedSlots:e._u([{key:"actions",fn:function(){return[n("CreateButton",{attrs:{text:"Tambah Level"},on:{click:e.create}})]},proxy:!0}])}),e._v(" "),n("RankGroupTable",{attrs:{"rank-groups":e.rankGroups.data,"delete-button-shown":e.canCreate,"edit-button-shown":e.canEdit},on:{edit:e.edit,remove:e.toggleDeleteConfirmation}}),e._v(" "),n("RankGroupForm",{attrs:{show:e.showForm,"edit-mode":e.editModeForm,"edited-data":e.editFormData,"access-level":e.formAccessLevel},on:{"update:show":function(t){e.showForm=t},save:e.save}})],1)],1)}),[],!1,null,null,null);t.default=j.exports},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={props:{editButtonShown:{type:Boolean,default:!0},deleteButtonShown:{type:Boolean,default:!0}},computed:{fields:function(){return this.$options.fields?this.editButtonShown||this.deleteButtonShown?this.$options.fields:this.$options.fields.filter((function(e){return"actions"!==e.key})):[]}},methods:{edit:function(e){this.$emit("edit",e)},remove:function(e){this.$emit("remove",e)}}}},9:function(e,t,n){"use strict";t.a={manage:"manage",supervise:"supervise",report:"report",view:"view"}}}]);