(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{137:function(t,e,a){"use strict";var r=a(73);a.n(r).a},138:function(t,e,a){(t.exports=a(26)(!1)).push([t.i,".card-table .card-body {\n  padding: 0;\n}\n.card-table table thead tr th {\n  border-top: none;\n}",""])},139:function(t,e,a){"use strict";var r=a(74);a.n(r).a},140:function(t,e,a){(t.exports=a(26)(!1)).push([t.i,".c-group-title .c-icon[data-v-48237dba] {\n  transition: transform 0.25s ease-in;\n}\n.c-group-title.is-collapsed .c-icon[data-v-48237dba] {\n  transform: rotate(180deg);\n}",""])},165:function(t,e,a){"use strict";var r=a(88);a.n(r).a},166:function(t,e,a){(t.exports=a(26)(!1)).push([t.i,".c-summary__cell--small {\n  width: 68px;\n  padding: 0 4px;\n}",""])},238:function(t,e,a){"use strict";a.r(e);var r=a(4),n=a(117),s=a(7),l=a(8),i=a(58),o=a(32),c=a(3),u=a(0),d=a(39);function p(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return f(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){m(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function m(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var v={name:"SelfAssessmentStreamSummary",components:{CChartBar:n.CChartBar,CChartRadar:n.CChartRadar,ContentPanel:s.a,PageTitle:l.a,SwimlaneGroupTitle:i.a,ValidatedSelect:o.a},data:function(){return{collapsedStreamIds:[],collapsedAreaGroupIds:[],collapsedAreaIds:[],activeGroup:null,showAllSubArea:!0,fullScreenChart:!1,useBarChart:!1}},computed:b({},Object(r.e)(c.b,["epics"]),{},Object(r.e)(c.e,["summary"]),{epic:function(){var t=this;return this.epics.data.find((function(e){return e.id===Number(t.$route.params.epicId)}))||{}},streamId:function(){return this.$route.params.id},isAllCollapsed:function(){return!(!this.collapsedStreamIds.length||!this.collapsedAreaIds.length)},pageTitle:function(){var t=this.stream?this.stream.title:"Stream";return"Ringkasan ".concat(t)},stream:function(){var t=this;return this.summary.data.find((function(e){return e.id===t.streamId}))},groupOptions:function(){return this.stream?this.stream.sub_tasks.map((function(t){return{label:t.title,value:t.id}})):[]},selectedGroup:function(){var t=this;return this.stream&&this.activeGroup?this.stream.sub_tasks.find((function(e){return e.id===t.activeGroup.value})):null},chartLabels:function(){return this.chartData.map((function(t){return t.title}))},chartDatasets:function(){return[{label:"Nilai",borderColor:"rgba(112, 202, 129, 1)",backgroundColor:"rgba(112, 202, 129, 1)",fill:"rgba(112, 202, 129, 0.5)",data:this.chartData.map((function(t){return t.final_score}))},{label:"Target",borderColor:"rgba(202, 59, 59, 1)",backgroundColor:"rgba(202, 59, 59, 1)",fill:"rgba(202, 59, 59, 0.5)",data:this.chartData.map((function(t){return t.score_target}))}]},chartData:function(){if(!this.selectedGroup)return[];if(!this.showAllSubArea)return this.selectedGroup.sub_tasks;var t=[];return this.selectedGroup.sub_tasks.forEach((function(e){e.sub_tasks.forEach((function(e){t.push(e)}))})),t}}),watch:{chartData:function(t){this.useBarChart=t.length<5}},mounted:function(){this.prepareData()},methods:b({toHumanDate:d.a},Object(r.b)(c.b,[u.F]),{},Object(r.b)(c.e,[u.R]),{prepareData:function(){var t=this;Promise.all([!this.epics.data.length&&this.getEpics()]).then((function(){t.epic.id?t.getSummary(t.epic.id).then((function(){return t.collapseAll()})):t.$router.push({name:"SelfAssessment"})}))},toggleCollapsible:function(){this.isAllCollapsed?(this.collapsedAreaIds=[],this.collapsedStreamIds=[]):this.collapseAll()},collapseAll:function(){var t=[],e=[],a=[];this.summary.data.forEach((function(r){t.push(r.id),r.sub_tasks.forEach((function(t){e.push(t.id),t.sub_tasks.forEach((function(t){a.push(t.id)}))}))})),this.collapsedStreamIds=t,this.collapsedAreaGroupIds=e,this.collapsedAreaIds=a},toggleGroup:function(t,e){var a=this[t].indexOf(e);if(a>-1){var r=p(this[t]);r.splice(a,1),this[t]=r}else this[t]=[].concat(p(this[t]),[e])}})},g=(a(165),a(1)),y=Object(g.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CRow",[a("CCol",[a("PageTitle",{attrs:{title:t.pageTitle}}),t._v(" "),a("CRow",[t.fullScreenChart?t._e():a("CCol",{attrs:{lg:"6"}},[a("SwimlaneGroupTitle",{staticClass:"py-3 border-bottom",attrs:{title:"Item","secondary-title":["Bobot","Nilai","Nilai Terbobot","Target"],"secondary-title-class":"c-summary__cell--small text-uppercase font-weight-bold","hide-icon":""}}),t._v(" "),t.stream?t._l(t.stream.sub_tasks,(function(e,r){return a("div",{key:r,staticClass:"c-collapsible c-collapsible__child",class:{"is-collapsed":t.collapsedAreaGroupIds.includes(e.id)}},[a("SwimlaneGroupTitle",{attrs:{title:e.title,"secondary-title":[e.weight||0,e.score||0,e.final_score||0,e.score_target||0],"secondary-title-class":"c-summary__cell--small","is-collapsed":t.collapsedAreaGroupIds.includes(e.id)},nativeOn:{click:function(a){return t.toggleGroup("collapsedAreaGroupIds",e.id)}}}),t._v(" "),t._l(e.sub_tasks,(function(e,n){return a("div",{key:r+"-"+n,staticClass:"c-collapsible c-collapsible__child",class:{"is-collapsed":t.collapsedAreaIds.includes(e.id)}},[a("SwimlaneGroupTitle",{attrs:{title:e.title,"title-class":"font-weight-bold","secondary-title":["-",e.final_score||0,"-",e.score_target||0],"secondary-title-class":"c-summary__cell--small","is-collapsed":t.collapsedAreaIds.includes(e.id),"bg-color":"light"},nativeOn:{click:function(a){return t.toggleGroup("collapsedAreaIds",e.id)}}}),t._v(" "),t._l(e.sub_tasks,(function(e,r){return a("div",{key:n+"-"+r,staticClass:"c-collapsible__child"},[a("SwimlaneGroupTitle",{attrs:{title:e.title,"title-class":"","secondary-title":[e.weight||"-",e.score||0,e.final_score||0,e.score_target||0],"secondary-title-class":"c-summary__cell--small","is-collapsed":t.collapsedAreaIds.includes(e.id),"bg-color":"light","hide-icon":""}})],1)}))],2)}))],2)})):t._e()],2),t._v(" "),a("CCol",{attrs:{lg:t.fullScreenChart?12:6}},[a("ContentPanel",[a("ValidatedSelect",{attrs:{options:t.groupOptions,placeholder:"Pilih Grup",label:"Grup"},model:{value:t.activeGroup,callback:function(e){t.activeGroup=e},expression:"activeGroup"}}),t._v(" "),a("CInputCheckbox",{attrs:{checked:t.showAllSubArea,label:"Tampilkan semua sub area"},on:{"update:checked":function(e){t.showAllSubArea=e}}}),t._v(" "),a("CInputCheckbox",{attrs:{checked:t.useBarChart,label:"Tampilkan bar chart"},on:{"update:checked":function(e){t.useBarChart=e}}}),t._v(" "),a("CInputCheckbox",{attrs:{checked:t.fullScreenChart,label:"Tampilkan penuh"},on:{"update:checked":function(e){t.fullScreenChart=e}}}),t._v(" "),t.useBarChart?a("CChartBar",{attrs:{labels:t.chartLabels,datasets:t.chartDatasets}}):a("CChartRadar",{attrs:{labels:t.chartLabels,datasets:t.chartDatasets}})],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=y.exports},32:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var r={name:"ValidatedInput",props:{options:{type:Array,default:function(){return[]}},placeholder:{type:String,default:""},rules:{type:String,default:""},label:{type:String,default:""},value:{default:null}}},n=a(1),s=Object(n.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ValidationProvider",{attrs:{rules:t.rules},scopedSlots:t._u([{key:"default",fn:function(e){e.validated;var r=e.errors;return[a("div",{staticClass:"form-group",attrs:{role:"group"}},[a("div",[t._v("\n      "+t._s(t.label)+"\n    ")]),t._v(" "),a("VueSelect",t._b({class:{"is-invalid":r.length},attrs:{value:t.value,options:t.options,placeholder:t.placeholder},on:{input:function(e){return t.$emit("input",e)}}},"VueSelect",t.$attrs,!1)),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v("\n      "+t._s(r[0])+"\n    ")])],1)]}}])})}),[],!1,null,null,null).exports},58:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var r={name:"SwimlaneGroupTitle",props:{title:{type:String,default:""},titleClass:{type:String,default:"text-uppercase font-weight-bold"},secondaryTitle:{type:[String,Array],default:""},secondaryTitleClass:{type:String,default:"mr-2"},isCollapsed:{type:Boolean,default:!0},bgColor:{type:String,default:"white"},hideIcon:{type:Boolean,default:!1}}},n=(a(139),a(1)),s=Object(n.a)(r,(function(){var t,e=this,a=e.$createElement,r=e._self._c||a;return r("div",{staticClass:"\n    c-group-title\n    d-flex flex-row justify-content-between align-items-center\n    text-body shadow-sm px-3 py-2 rounded mb-2 u-pointer\n  ",class:(t={"is-collapsed":e.isCollapsed},t["bg-"+e.bgColor]=!0,t)},[r("div",{staticClass:"w-100 m-0 d-flex flex-row justify-content-between"},[r("span",{staticClass:"mr-4",class:e.titleClass},[e._v("\n      "+e._s(e.title)+"\n    ")]),e._v(" "),Array.isArray(e.secondaryTitle)?r("div",{staticClass:"d-flex flex-row align-items-center"},[e._l(e.secondaryTitle,(function(t,a){return r("small",{key:a,class:e.secondaryTitleClass},[e._v("\n        "+e._s(t)+"\n      ")])})),e._v(" "),e._t("actions")],2):r("small",[e._v("\n      "+e._s(e.secondaryTitle)+"\n    ")])]),e._v(" "),e.hideIcon?r("div",{staticClass:"ml-2",staticStyle:{width:"16px"}},[e._v("\n     \n  ")]):r("CIcon",{staticClass:"ml-2 flex-shrink-0",attrs:{name:"cil-chevron-top"}})],1)}),[],!1,null,"48237dba",null).exports},7:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var r={name:"ContentPanel",props:{title:{type:String,default:""},tableContent:{type:Boolean,default:!1},type:{type:String,default:""},backgroundColor:{type:String,default:""}},computed:{cardStyle:function(){return this.isScoreBoard&&this.backgroundColor?"border-color: ".concat(this.backgroundColor," !important;"):""},headerStyle:function(){return this.isScoreBoard&&this.backgroundColor?"background: ".concat(this.backgroundColor,";"):""},isScoreBoard:function(){return"score-board"===this.type}}},n=(a(137),a(1)),s=Object(n.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CCard",{staticClass:"mb-3 shadow-sm",class:{"border-0":!t.isScoreBoard,"card-table":t.tableContent},style:t.cardStyle,on:{click:function(e){return t.$emit("click")}}},[t.title||t.$slots.title?a("CCardHeader",{staticClass:"d-flex font-weight-bold py-3 text-uppercase",style:t.headerStyle},[t.isScoreBoard?t._e():a("CIcon",{staticClass:"flex-shrink-1 mr-3",attrs:{name:"cil-stream"}}),t._v(" "),a("div",{staticClass:"w-100"},[t._t("title",[t._v("\n        "+t._s(t.title)+"\n      ")])],2)],1):t._e(),t._v(" "),a("CCardBody",[t._t("default")],2)],1)}),[],!1,null,null,null).exports},73:function(t,e,a){var r=a(138);"string"==typeof r&&(r=[[t.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a(27)(r,n);r.locals&&(t.exports=r.locals)},74:function(t,e,a){var r=a(140);"string"==typeof r&&(r=[[t.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a(27)(r,n);r.locals&&(t.exports=r.locals)},8:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var r={name:"PageTitle",props:{title:{type:String,default:"Judul Halaman"}}},n=a(1),s=Object(n.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{staticClass:"mb-5 d-flex flex-row justify-content-between"},[e("div",{staticClass:"w-50"},[this._v("\n    "+this._s(this.title)+"\n  ")]),this._v(" "),e("div",[this._t("actions")],2)])}),[],!1,null,null,null).exports},88:function(t,e,a){var r=a(166);"string"==typeof r&&(r=[[t.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a(27)(r,n);r.locals&&(t.exports=r.locals)}}]);