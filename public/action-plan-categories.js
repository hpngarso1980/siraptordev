(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{20:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a={name:"CancelButton",props:{text:{type:String,default:"Batal"}}},r=n(1),o=Object(r.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CButton",{staticClass:"px-3",attrs:{color:"light"},on:{click:function(t){return e.$emit("click")}}},[n("CIcon",{staticClass:"mr-1",attrs:{name:"cil-x-circle"}}),e._v("\n  "+e._s(e.text)+"\n")],1)}),[],!1,null,null,null).exports},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(9),r={props:{accessLevel:{type:String,default:a.a.manage}},computed:{canManage:function(){return this.accessLevel===a.a.manage},canSupervise:function(){return this.accessLevel===a.a.supervise},canReport:function(){return this.accessLevel===a.a.report},canView:function(){return this.accessLevel===a.a.view}}}},231:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(8),o=n(22),i=n(20),s=n(11),c=n(12),u=n(15),l=n(21),f={name:"ActionPlanCategoryForm",components:{CancelButton:i.a,SaveButton:s.a,ValidatedInput:c.a},mixins:[u.a,l.a],methods:{beforeReset:function(){this.$refs.formObserver.reset()},beforeSave:function(){return this.$refs.formObserver.validate()}},formTitle:"Kategori",initialFormData:{name:""}},d=n(1),m=Object(d.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ValidationObserver",{ref:"formObserver",attrs:{slim:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.valid;return[n("CModal",{attrs:{title:e.title,show:e.show,"close-on-backdrop":!1,size:"sm",centered:""},on:{"update:show":e.updateShow},scopedSlots:e._u([{key:"footer-wrapper",fn:function(){return[n("div",{staticClass:"p-3"},[n("SaveButton",{staticClass:"float-right",attrs:{disabled:!a},on:{click:e.save}}),e._v(" "),n("CancelButton",{staticClass:"float-right mr-2",on:{click:function(t){return e.updateShow(!1)}}})],1)]},proxy:!0}],null,!0)},[n("CForm",[n("ValidatedInput",{attrs:{disabled:!e.canManage,type:"text",label:"Nama",rules:"required|max:255"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1)],1)]}}])})}),[],!1,null,null,null).exports,p=n(23),g=n(17),h=n(14),v=n(7),b=n(29),y=n(37),P={name:"ActionPlanCategoryTable",components:{DeleteButton:p.a,EditButton:g.a,ContentPanel:v.a,TableNoItem:h.a},mixins:[b.a,y.a],props:{categories:{type:Array,default:function(){return[]}}},fields:[{label:"Nama",key:"name"},{label:"Tgl. Dibuat",key:"created_at"},{label:"Update Terakhir",key:"updated_at"},{label:"",key:"actions"}]},_=Object(d.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentPanel",{attrs:{"table-content":""}},[n("CDataTable",{staticClass:"mb-4",attrs:{items:e.categories,fields:e.fields,hover:""},scopedSlots:e._u([{key:"created_at",fn:function(t){var a=t.item;return[n("td",[e._v("\n        "+e._s(e._f("toHumanDate")(a.created_at))+"\n      ")])]}},{key:"updated_at",fn:function(t){var a=t.item;return[n("td",[e._v("\n        "+e._s(e._f("toHumanDate")(a.updated_at))+"\n      ")])]}},{key:"actions",fn:function(t){var a=t.item;return[n("td",[e.editButtonShown?n("EditButton",{on:{click:function(t){return e.edit(a)}}}):e._e(),e._v(" "),e.deleteButtonShown?n("DeleteButton",{on:{click:function(t){return e.remove(a)}}}):e._e()],1)]}}])},[n("TableNoItem",{attrs:{slot:"no-items-view"},slot:"no-items-view"})],1),e._v(" "),n("CPagination",{attrs:{"active-page":e.currentPage,pages:e.pages,align:"center"},on:{"update:activePage":e.changePage}})],1)}),[],!1,null,null,null).exports,C=n(18),w=n(3),O=n(0),A=n(6),S=n(9);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=[A.a.MANAGE_PERFORMANCE_MONITORING_ACTION_PLAN,A.a.MANAGE_SELF_ASSESSMENT_ACTION_PLAN,A.a.MANAGE_MANAGEMENT_ACTION_PLAN],T={name:"ActionPlanCategories",components:{CreateButton:o.a,PageTitle:r.a,ActionPlanCategoryForm:m,ActionPlanCategoryTable:_},mixins:[C.a],computed:B({},Object(a.e)(w.a,["actionPlanCategories"]),{canCreate:function(){return this.$root.hasAnyPermissionTo(N)},canEdit:function(){return this.$root.hasAnyPermissionTo(N)},formAccessLevel:function(){return(0,this.$root.hasAnyPermissionTo)(N)?S.a.manage:""}}),methods:B({},Object(a.b)(w.a,{getPaginatedData:function(e){return e(O.w,{page:this.currentPage})},handleCreate:O.c,handleUpdate:O.eb,handleRemove:function(e,t){return e(O.n,t.id)}}),{prepareData:function(){this.getPaginatedData()},setDeleteConfirmationPayload:function(e){return{title:'kategori "'.concat(e.name,'"'),data:e}},formatCreateSuccessMessage:function(){return"Kategori berhasil ditambahkan"},formatUpdateSuccessMessage:function(){return"Kategori berhasil diperbarui"},formatRemovalSuccessMessage:function(){return"Kategori berhasil dihapus"},formatRemovalFailedMessage:function(e,t){return t.response.data.errors.join(" ")}})},E=Object(d.a)(T,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CRow",[n("CCol",{attrs:{lg:"10",sm:"12"}},[n("PageTitle",{attrs:{title:"Master Data Kategori Action Plan"},scopedSlots:e._u([{key:"actions",fn:function(){return[n("CreateButton",{attrs:{text:"Tambah Kategori"},on:{click:e.create}})]},proxy:!0}])}),e._v(" "),n("ActionPlanCategoryTable",{attrs:{categories:e.actionPlanCategories.data,"current-page":e.currentPage,pages:e.pages,"delete-button-shown":e.canCreate,"edit-button-shown":e.canEdit},on:{edit:e.edit,remove:e.toggleDeleteConfirmation,changePage:e.changePage}}),e._v(" "),n("ActionPlanCategoryForm",{attrs:{show:e.showForm,"edit-mode":e.editModeForm,"edited-data":e.editFormData,"access-level":e.formAccessLevel},on:{"update:show":function(t){e.showForm=t},save:e.save}})],1)],1)}),[],!1,null,null,null);t.default=E.exports},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={props:{editButtonShown:{type:Boolean,default:!0},deleteButtonShown:{type:Boolean,default:!0}},computed:{fields:function(){return this.$options.fields?this.editButtonShown||this.deleteButtonShown?this.$options.fields:this.$options.fields.filter((function(e){return"actions"!==e.key})):[]}},methods:{edit:function(e){this.$emit("edit",e)},remove:function(e){this.$emit("remove",e)}}}},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={props:{currentPage:{type:Number,default:1},pages:{type:Number,default:1}},methods:{changePage:function(e){this.$emit("changePage",e)}}}},9:function(e,t,n){"use strict";t.a={manage:"manage",supervise:"supervise",report:"report",view:"view"}}}]);