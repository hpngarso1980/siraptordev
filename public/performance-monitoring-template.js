(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{220:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(22),o=n(8),i=n(11),l=n(12),s=n(32),c=n(15);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={name:"TemplateForm",components:{SaveButton:i.a,ValidatedInput:l.a,ValidatedSelect:s.a},mixins:[c.a],props:{existingTemplates:{type:Array,default:function(){return[]}}},computed:{copyFromOptions:function(){return this.existingTemplates.map((function(e){return{label:e.name,value:e.id}}))}},methods:{formatBeforeSave:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return t.copy_form||delete t.copy_form,t}},formTitle:"Periode Monitoring Kinerja",initialFormData:{name:"",copy_form:null}},m=n(1),f=Object(m.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ValidationObserver",{ref:"formObserver",attrs:{slim:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.valid;return[n("CModal",{attrs:{title:e.title,show:e.show,size:"sm","close-on-backdrop":!1,centered:""},on:{"update:show":e.updateShow},scopedSlots:e._u([{key:"footer-wrapper",fn:function(){return[n("div",{staticClass:"p-3"},[n("SaveButton",{staticClass:"float-right",attrs:{disabled:!a},on:{click:e.save}})],1)]},proxy:!0}],null,!0)},[n("CForm",[n("ValidatedInput",{attrs:{type:"text",label:"Nama Periode",rules:"required|max:255"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}}),e._v(" "),e._e()],1)],1)]}}])})}),[],!1,null,null,null).exports,b=n(23),v=n(17),g=n(14),h={name:"ViewDetailButton"},y=Object(m.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CButton",e._b({staticClass:"px-3",attrs:{size:"sm",color:"success",variant:"outline"},on:{click:function(t){return e.$emit("click")}}},"CButton",e.$attrs,!1),[n("CIcon",{staticClass:"mr-1",attrs:{name:"cil-magnifying-glass"}})],1)}),[],!1,null,null,null).exports,P=n(7),O={name:"PerformanceMonitoringTemplateTable",components:{DeleteButton:b.a,EditButton:v.a,TableNoItem:g.a,ViewDetailButton:y,ContentPanel:P.a},props:{templates:{type:Array,default:function(){return[]}},currentPage:{type:Number,default:1},pages:{type:Number,default:1}},methods:{edit:function(e){this.$emit("edit",e)},viewIndicators:function(e){this.$emit("viewIndicators",e)},remove:function(e){this.$emit("remove",e)},changePage:function(e){this.$emit("changePage",e)}},fields:[{label:"Nama",key:"name"},{label:"Tgl. Dibuat",key:"created_at"},{label:"Update Terakhir",key:"updated_at"},{label:"",key:"actions"}]},_=Object(m.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentPanel",{attrs:{"table-content":""}},[n("CDataTable",{staticClass:"mb-4",attrs:{items:e.templates,fields:e.$options.fields,hover:""},scopedSlots:e._u([{key:"created_at",fn:function(t){var a=t.item;return[n("td",[e._v("\n        "+e._s(e._f("toHumanDate")(a.created_at))+"\n      ")])]}},{key:"updated_at",fn:function(t){var a=t.item;return[n("td",[e._v("\n        "+e._s(e._f("toHumanDate")(a.updated_at))+"\n      ")])]}},{key:"actions",fn:function(t){var a=t.item;return[n("td",[n("CButtonGroup",[n("EditButton",{on:{click:function(t){return e.edit(a)}}}),e._v(" "),n("ViewDetailButton",{attrs:{title:"Lihat indikator"},on:{click:function(t){return e.viewIndicators(a)}}}),e._v(" "),n("DeleteButton",{on:{click:function(t){return e.remove(a)}}})],1)],1)]}}])},[n("TableNoItem",{attrs:{slot:"no-items-view"},slot:"no-items-view"})],1),e._v(" "),n("CPagination",{attrs:{"active-page":e.currentPage,pages:e.pages,align:"center"},on:{"update:activePage":e.changePage}})],1)}),[],!1,null,null,null).exports,w=n(18),j=n(3),k=n(0);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T={name:"PerformanceMonitoringTemplate",components:{CreateButton:r.a,PageTitle:o.a,TemplateForm:f,TemplateTable:_},mixins:[w.a],computed:C({},Object(a.e)(j.d,["templates"])),methods:C({},Object(a.b)(j.d,{getPaginatedData:function(e){return e(k.U,this.currentPage)},handleCreate:k.k,handleUpdate:k.rb,handleRemove:function(e,t){return e(k.u,t.id)}}),{prepareData:function(){return this.getPaginatedData()},setDeleteConfirmationPayload:function(e){return{title:e.name,data:e}},formatCreateSuccessMessage:function(e){return"Periode ".concat(e.name," berhasil ditambahkan")},formatUpdateSuccessMessage:function(e){return"Periode ".concat(e.name," berhasil diperbarui")},formatRemovalSuccessMessage:function(e){return"Periode ".concat(e.name," berhasil dihapus")},formatRemovalFailedMessage:function(e){return"Periode ".concat(e.name," gagal dihapus")},viewIndicators:function(e){this.$router.push({name:"PerformanceMonitoringTemplateDetail",params:{id:e.id}})}})},x=Object(m.a)(T,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CRow",[n("CCol",{attrs:{lg:"10",sm:"12"}},[n("PageTitle",{attrs:{title:"Periode Monitoring Kinerja"},scopedSlots:e._u([{key:"actions",fn:function(){return[n("CreateButton",{attrs:{text:"Tambah Periode"},on:{click:e.create}})]},proxy:!0}])}),e._v(" "),n("TemplateTable",{attrs:{templates:e.templates,"current-page":e.currentPage,pages:e.pages},on:{edit:e.edit,viewIndicators:e.viewIndicators,remove:e.toggleDeleteConfirmation,changePage:e.changePage}}),e._v(" "),n("TemplateForm",{attrs:{show:e.showForm,"edit-mode":e.editModeForm,"edited-data":e.editFormData,"existing-templates":e.templates},on:{"update:show":function(t){e.showForm=t},save:e.save}})],1)],1)}),[],!1,null,null,null);t.default=x.exports},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a={name:"ValidatedInput",props:{options:{type:Array,default:function(){return[]}},placeholder:{type:String,default:""},rules:{type:String,default:""},label:{type:String,default:""},value:{default:null}}},r=n(1),o=Object(r.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ValidationProvider",{attrs:{rules:e.rules},scopedSlots:e._u([{key:"default",fn:function(t){t.validated;var a=t.errors;return[n("div",{staticClass:"form-group",attrs:{role:"group"}},[n("div",[e._v("\n      "+e._s(e.label)+"\n    ")]),e._v(" "),n("VueSelect",e._b({class:{"is-invalid":a.length},attrs:{value:e.value,options:e.options,placeholder:e.placeholder},on:{input:function(t){return e.$emit("input",t)}}},"VueSelect",e.$attrs,!1)),e._v(" "),n("div",{staticClass:"invalid-feedback"},[e._v("\n      "+e._s(a[0])+"\n    ")])],1)]}}])})}),[],!1,null,null,null).exports}}]);