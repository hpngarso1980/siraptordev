(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{20:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var r={name:"CancelButton",props:{text:{type:String,default:"Batal"}}},n=a(1),i=Object(n.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CButton",{staticClass:"px-3",attrs:{color:"light"},on:{click:function(t){return e.$emit("click")}}},[a("CIcon",{staticClass:"mr-1",attrs:{name:"cil-x-circle"}}),e._v("\n  "+e._s(e.text)+"\n")],1)}),[],!1,null,null,null).exports},21:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(9),n={props:{accessLevel:{type:String,default:r.a.manage}},computed:{canManage:function(){return this.accessLevel===r.a.manage},canSupervise:function(){return this.accessLevel===r.a.supervise},canReport:function(){return this.accessLevel===r.a.report},canView:function(){return this.accessLevel===r.a.view}}}},222:function(e,t,a){"use strict";a.r(t);var r=a(4),n=a(8),i={name:"CriteriaFilter",components:{CreateButton:a(22).a},props:{streams:{type:Array,default:function(){return[]}},areas:{type:Array,default:function(){return[]}},subAreas:{type:Array,default:function(){return[]}}},data:function(){return{selectedStream:null,selectedArea:null,selectedSubArea:null}},computed:{streamOptions:function(){return this.streams.map((function(e){return{value:e.id,label:e.name}}))},areaOptions:function(){return this.areas.map((function(e){return{value:e.id,label:e.name}}))},subAreaOptions:function(){return this.subAreas.map((function(e){return{value:e.id,label:e.name}}))}},methods:{changeStream:function(e){this.selectedStream=e;var t=e&&e.value,a=this.streams.find((function(e){return e.id===t}));this.$emit("changeStream",a)},changeArea:function(e){this.selectedArea=e;var t=e&&e.value,a=this.areas.find((function(e){return e.id===t}));this.$emit("changeArea",a)},changeSubArea:function(e){this.selectedSubArea=e;var t=e&&e.value,a=this.subAreas.find((function(e){return e.id===t}));this.$emit("changeSubArea",a)},createNew:function(){this.$emit("new")}}},s=a(1),o=Object(s.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CRow",{staticClass:"mb-3"},[a("CCol",{staticClass:"d-flex flex-row",attrs:{lg:"9"}},[a("VueSelect",{staticClass:"w-100 mr-1",attrs:{value:e.selectedStream,options:e.streamOptions,placeholder:"Pilih Stream"},on:{input:e.changeStream}}),e._v(" "),a("VueSelect",{staticClass:"w-100 mr-1",attrs:{value:e.selectedArea,options:e.areaOptions,placeholder:"Pilih Area"},on:{input:e.changeArea}}),e._v(" "),a("VueSelect",{staticClass:"w-100",attrs:{value:e.selectedSubArea,options:e.subAreaOptions,placeholder:"Pilih Sub Area"},on:{input:e.changeSubArea}})],1),e._v(" "),a("CCol",{attrs:{lg:"3"}},[a("CreateButton",{staticClass:"float-right",attrs:{text:"Tambah  Kriteria"},on:{click:e.createNew}})],1)],1)}),[],!1,null,null,null).exports,c=a(20),u=a(11),l=a(12),d=a(15),f=a(21);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var h={name:"CriteriaForm",components:{CancelButton:c.a,SaveButton:u.a,ValidatedInput:l.a},mixins:[d.a,f.a],props:{selectedSubAreaId:{type:Number,default:null}},methods:{beforeReset:function(){this.$refs.formObserver.reset()},beforeSave:function(){return this.$refs.formObserver.validate()},formatBeforeSave:function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){m(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{sub_area_id:this.selectedSubAreaId})}},formTitle:"Kriteria"},b=Object(s.a)(h,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ValidationObserver",{ref:"formObserver",attrs:{slim:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.valid;return[a("CModal",{attrs:{title:e.title,show:e.show,"close-on-backdrop":!1,centered:""},on:{"update:show":e.updateShow},scopedSlots:e._u([{key:"footer-wrapper",fn:function(){return[a("div",{staticClass:"p-3"},[a("SaveButton",{staticClass:"float-right",attrs:{disabled:!r},on:{click:e.save}}),e._v(" "),a("CancelButton",{staticClass:"float-right mr-2",on:{click:function(t){return e.updateShow(!1)}}})],1)]},proxy:!0}],null,!0)},[a("CForm",[a("ValidatedInput",{attrs:{disabled:!e.canManage,type:"text",label:"Nilai",rules:"required|max:45"},model:{value:e.formData.score,callback:function(t){e.$set(e.formData,"score",t)},expression:"formData.score"}}),e._v(" "),a("ValidatedInput",{attrs:{disabled:!e.canManage,type:"text",label:"Level",rules:"required|max:500"},model:{value:e.formData.level,callback:function(t){e.$set(e.formData,"level",t)},expression:"formData.level"}}),e._v(" "),a("ValidatedInput",{attrs:{disabled:!e.canManage,type:"text",label:"Deskripsi",rules:"required|max:500"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1)],1)]}}])})}),[],!1,null,null,null).exports,v=a(23),g=a(17),S=a(14),A=a(7),y=a(29),O=a(37),w={name:"SelfAssessmentCriteriaTable",components:{DeleteButton:v.a,EditButton:g.a,ContentPanel:A.a,TableNoItem:S.a},mixins:[y.a,O.a],props:{criteria:{type:Array,default:function(){return[]}}},fields:[{label:"Nilai",key:"score"},{label:"Level",key:"level"},{label:"Uraian",key:"description"},{label:"Tgl. Dibuat",key:"created_at"},{label:"Update Terakhir",key:"updated_at"},{label:"",key:"actions"}]},_=Object(s.a)(w,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentPanel",{attrs:{"table-content":""}},[a("CDataTable",{staticClass:"mb-4",attrs:{items:e.criteria,fields:e.fields,hover:""},scopedSlots:e._u([{key:"created_at",fn:function(t){var r=t.item;return[a("td",[e._v("\n        "+e._s(e._f("toHumanDate")(r.created_at))+"\n      ")])]}},{key:"updated_at",fn:function(t){var r=t.item;return[a("td",[e._v("\n        "+e._s(e._f("toHumanDate")(r.updated_at))+"\n      ")])]}},{key:"actions",fn:function(t){var r=t.item;return[a("td",[e.editButtonShown?a("EditButton",{on:{click:function(t){return e.edit(r)}}}):e._e(),e._v(" "),e.deleteButtonShown?a("DeleteButton",{on:{click:function(t){return e.remove(r)}}}):e._e()],1)]}}])},[a("TableNoItem",{attrs:{slot:"no-items-view"},slot:"no-items-view"})],1),e._v(" "),a("CPagination",{attrs:{"active-page":e.currentPage,pages:e.pages,align:"center"},on:{"update:activePage":e.changePage}})],1)}),[],!1,null,null,null).exports,C=a(18),P=a(3),j=a(0),k=a(6),D=a(9);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){$(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function $(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var B={name:"SelfAssessmentCriteria",components:{PageTitle:n.a,CriteriaFilter:o,CriteriaForm:b,CriteriaTable:_},mixins:[C.a],data:function(){return{selectedAreaId:null,selectedStreamId:null,selectedSubAreaId:null}},computed:x({},Object(r.e)(P.e,["areas","criteria","streams","subAreas"]),{canCreate:function(){return this.$root.hasPermissionTo(k.a.MANAGE_SELF_ASSESSMENT)},canEdit:function(){return this.$root.hasAnyPermissionTo([k.a.MANAGE_SELF_ASSESSMENT])},formAccessLevel:function(){var e=this.$root,t=e.hasPermissionTo,a=e.hasRole;return t(k.a.MANAGE_SELF_ASSESSMENT)?D.a.manage:a("supervisor")?D.a.supervise:t(k.a.REPORT_SELF_ASSESSMENT)?D.a.report:""}}),methods:x({},Object(r.b)(P.e,{getStreams:j.O,getAreas:j.B,getSubAreas:j.P,getPaginatedData:function(e){return e(j.E,{sub_area_id:this.selectedSubAreaId,page:this.currentPage})},handleCreate:j.f,handleUpdate:j.ib,handleRemove:function(e,t){return e(j.q,t.id)}}),{prepareData:function(){this.getStreams()},setDeleteConfirmationPayload:function(e){return{title:"kriteria",data:e}},formatCreateSuccessMessage:function(){return"Kriteria berhasil ditambahkan"},formatUpdateSuccessMessage:function(){return"Kriteria berhasil diperbarui"},formatRemovalSuccessMessage:function(){return"Kriteria berhasil dihapus"},formatRemovalFailedMessage:function(e,t){return t.response.data.errors.join(" ")},changeStream:function(e){this.selectedStreamId=e&&e.id||null,this.getAreas({stream_id:this.selectedStreamId})},changeArea:function(e){this.selectedAreaId=e&&e.id||null,this.getSubAreas({area_id:this.selectedAreaId})},changeSubArea:function(e){this.selectedSubAreaId=e&&e.id||null,this.getPaginatedData()}})},I=Object(s.a)(B,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CRow",[a("CCol",[a("PageTitle",{attrs:{title:"Master Data Kriteria"}}),e._v(" "),a("CriteriaFilter",{attrs:{"selected-stream-id":e.selectedStreamId,"selected-area-id":e.selectedAreaId,"selected-sub-area-id":e.selectedSubAreaId,streams:e.streams.data,areas:e.areas.data,"sub-areas":e.subAreas.data},on:{changeStream:e.changeStream,changeArea:e.changeArea,changeSubArea:e.changeSubArea,new:e.create}}),e._v(" "),a("CriteriaTable",{attrs:{criteria:e.criteria.data,"current-page":e.currentPage,pages:e.pages,"delete-button-shown":e.canCreate,"edit-button-shown":e.canEdit},on:{edit:e.edit,remove:e.toggleDeleteConfirmation,changePage:e.changePage}}),e._v(" "),a("CriteriaForm",{attrs:{show:e.showForm,"edit-mode":e.editModeForm,"edited-data":e.editFormData,"access-level":e.formAccessLevel,"selected-sub-area-id":e.selectedSubAreaId},on:{"update:show":function(t){e.showForm=t},save:e.save}})],1)],1)}),[],!1,null,null,null);t.default=I.exports},29:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r={props:{editButtonShown:{type:Boolean,default:!0},deleteButtonShown:{type:Boolean,default:!0}},computed:{fields:function(){return this.$options.fields?this.editButtonShown||this.deleteButtonShown?this.$options.fields:this.$options.fields.filter((function(e){return"actions"!==e.key})):[]}},methods:{edit:function(e){this.$emit("edit",e)},remove:function(e){this.$emit("remove",e)}}}},37:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r={props:{currentPage:{type:Number,default:1},pages:{type:Number,default:1}},methods:{changePage:function(e){this.$emit("changePage",e)}}}},9:function(e,t,a){"use strict";t.a={manage:"manage",supervise:"supervise",report:"report",view:"view"}}}]);